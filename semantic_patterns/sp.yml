# semantic-patterns configuration for SpotHero dbt Semantic Layer

project: spothero-gold

input: ./spothero-dbt-silver/redshift_gold/models/3_semantic
output: ./lookml
schema: redshift_gold
format: dbt

# Generator options
options:
  dialect: redshift
  pop_strategy: dynamic
  date_selector: true
  convert_tz: false
  # view_prefix: ""
  # explore_prefix: ""

# Output options
output_options:
  manifest: true
  clean: clean

# Looker destination
looker:
  enabled: false

  # LookML model file settings
  model:
    name: spothero_semantic
    connection: redshift_prod

  # Explores - based on dbt semantic models
  explores:
    # Core rental analytics
    - fact: rentals
      label: Rental Analytics
      description: Core rental transactions with revenue, segmentation, and facility attribution

    # Facility portfolio
    - fact: facility_dimension
      label: Facility Attributes
      description: Facility and canonical location attributes with SFDC hierarchy

    - fact: facility_lifecycle
      label: Facility Lifecycle
      description: SCD2 facility state transitions for point-in-time portfolio analysis
      joined_facts:
        - facility_dimension

    - fact: facility_monthly_status
      label: Monthly Portfolio
      description: Month-end canonical location snapshots (legacy Finance reporting)
      joined_facts:
        - facility_dimension

    # Customer experience
    - fact: reviews
      label: Customer Reviews
      description: Star ratings and feedback sentiment analysis
      joined_facts:
        - facility_dimension

    - fact: sfdc_cases
      label: Support Cases
      description: Salesforce support cases with hero tags and SIPP classification
      joined_facts:
        - facility_dimension

  # Git repository (enable when ready to push)
  # repo: spothero/looker-models
  # branch: sp-generated
  # path: lookml/

  # Looker dev sync (optional)
  # base_url: https://spothero.looker.com
  # project_id: spothero_analytics
  # sync_dev: true
