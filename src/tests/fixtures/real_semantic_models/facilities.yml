version: 2

semantic_models:
  - name: facilities
    description: Facility dimension surfaced from `redshift_gold.dim_facility`.
    model: ref('dim_facility')
    entities:
      - name: facility
        type: primary
        expr: facility_sk
      - name: canonical_facility
        type: foreign
        expr: canonical_facility_sk
    dimensions:
      - name: city
        description: Metro area served by the facility.
        type: categorical
        expr: spothero_metro_area
        config:
          meta:
            subject: "Facilities"
            category: "Geographic Attributes"
            
      - name: facility_type
        description: Business classification for the facility.
        type: categorical
        expr: facility_type
        config:
          meta:
            subject: "Facilities"
            category: "Operational Attributes"
      - name: facility_status
        description: Operational status of the facility.
        type: categorical
        expr: facility_status
        config:
          meta:
            subject: "Facilities"
            category: "Operational Attributes"
      - name: timezone
        description: Facility timezone identifier.
        type: categorical
        expr: timezone
        config:
          meta:
            subject: "Facilities"
            category: "Geographic Attributes"
      - name: reporting_market
        description: Geographic market for reporting purposes. Currently using spothero_metro_area as proxy.
        type: categorical
        expr: spothero_metro_area
        config:
          meta:
            subject: "Facilities"
            category: "Geographic Attributes"
            note: "Temporary - need proper dim_geography"
      - name: facility_title
        description: Display name of the facility.
        type: categorical
        expr: facility_title
        config:
          meta:
            subject: "Facilities"
            category: "Facility Details"
      - name: facility_spaces
        description: Default number of parking spaces available at the facility.
        type: categorical
        expr: default_facility_spaces
        config:
          meta:
            subject: "Facilities"
            category: "Facility Details"
