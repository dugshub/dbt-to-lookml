---
id: DTL-023
title: "Modify Measure.to_lookml_dict() to add suffix and hidden property"
type: feature
stack: backend
status: Ready
state: has-spec
labels:
  - type:feature
  - stack:backend
  - layer:atoms
  - priority:medium
  - state:has-spec
created: 2025-11-21T00:00:00Z
updated: 2025-11-21T00:00:00Z
parent: DTL-022
---

# DTL-023: Modify Measure.to_lookml_dict() to add suffix and hidden property

## Problem Statement

Update the Measure class in schemas/semantic_layer.py to implement universal measure suffix and hiding:

Changes needed:
1. Modify line 555: Change name from `self.name` to `f"{self.name}_measure"`
2. Add `"hidden": "yes"` to the result dictionary after the name field

This ensures all measures generated from semantic models are:
- Suffixed with `_measure` for clear identification
- Marked as hidden to separate internal measures from user-facing metrics

Technical scope:
- File: src/dbt_to_lookml/schemas/semantic_layer.py
- Method: Measure.to_lookml_dict() (lines 548-570)
- Layer: Atoms (core data structure)

Testing requirements:
- Verify measure names include `_measure` suffix
- Verify all measures have `hidden: yes` property
- Maintain 95%+ branch coverage

Parent: Epic - Universal Measure Suffix and Hiding Strategy

## Success Criteria

- [ ] Measure.to_lookml_dict() adds `_measure` suffix to all measure names
- [ ] All measures have `hidden: yes` property
- [ ] Unit tests pass with updated expectations
- [ ] Branch coverage maintained at 95%+

## Links

- Epic: [DTL-022](./../epics/DTL-022.md)
- Strategy: [.tasks/strategies/DTL-023-strategy.md](./../strategies/DTL-023-strategy.md)
- Spec: [.tasks/specs/DTL-023-spec.md](./../specs/DTL-023-spec.md)

## History

### 2025-11-21 - Implementation Spec Generated
Detailed implementation spec created from approved strategy covering:
- Phase-by-phase implementation plan (3 phases)
- Exact code changes with before/after examples
- Complete modified method implementation
- Expected test failures and fixes (DTL-025)
- New test cases to add (4 comprehensive tests)
- Validation commands and quality gates
- Code review focus areas
- Estimated effort: 1 hour for code changes

Status updated: Refinement → Ready
State updated: has-strategy → has-spec

### 2025-11-21 - Strategy Generated
Comprehensive implementation strategy created covering:
- Code changes to Measure.to_lookml_dict() (suffix and universal hiding)
- Impact analysis across codebase (generators, tests, golden files)
- Risk mitigation for coordinated changes with DTL-024 and DTL-025
- Detailed testing strategy with new test cases
- Implementation timeline: 1-2 hours for code changes

### 2025-11-21 00:00 - Issue Created
Created from epic DTL-022
