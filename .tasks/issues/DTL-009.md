---
id: DTL-009
title: "Update LookMLGenerator to accept and propagate convert_tz settings"
type: feature
stack: backend
status: ready
labels:
  - stack:backend
  - type:feature
  - layer:features
  - priority:high
  - reviewed
  - state:has-spec
created: 2025-11-12T20:00:00Z
updated: 2025-11-12T21:00:00Z
parent: DTL-007
---

# DTL-009: Update LookMLGenerator to accept and propagate convert_tz settings

## Problem Statement

Modify the `LookMLGenerator` class in `src/dbt_to_lookml/generators/lookml.py` to support timezone conversion configuration and propagate it to dimension generation:

**Tasks**:
1. Add `convert_tz: bool | None = None` parameter to `LookMLGenerator.__init__()`
2. Store the convert_tz setting as an instance variable
3. Update `_generate_view_lookml()` to pass convert_tz to semantic model's `to_lookml_dict()`
4. Update `SemanticModel.to_lookml_dict()` to accept `convert_tz` and pass it to dimension conversion
5. Ensure backward compatibility (None = use default behavior)

**Files to modify**:
- `src/dbt_to_lookml/generators/lookml.py` (LookMLGenerator class)
- `src/dbt_to_lookml/schemas.py` (SemanticModel.to_lookml_dict method)

**Testing**:
- Unit tests in `test_lookml_generator.py` to validate convert_tz propagation
- Test that generator parameter overrides default but not dimension meta

**Acceptance Criteria**:
- LookMLGenerator accepts convert_tz parameter
- convert_tz is correctly propagated to dimension generation
- Backward compatibility maintained (existing code works)
- Type hints correct and mypy passes

## Success Criteria

- [ ] Implementation complete
- [ ] Tests passing
- [ ] Documentation updated

## Links

- Epic: [DTL-007](./../epics/DTL-007.md)
- Strategy: [.tasks/strategies/DTL-009-strategy.md](./../strategies/DTL-009-strategy.md)
- Spec: [.tasks/specs/DTL-009-spec.md](./../specs/DTL-009-spec.md)

## History

### 2025-11-12 20:00 - Issue Created
Created from epic DTL-007
