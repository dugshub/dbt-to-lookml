---
id: DTL-047
title: "Add --date-selector CLI flags and LookMLGenerator configuration"
type: feature
status: refinement
labels:
  - stack:backend
  - type:feature
  - layer:atoms
created: 2025-12-17T21:30:00Z
updated: 2025-12-17T21:30:00Z
parent: DTL-046
---

# DTL-047: Add --date-selector CLI flags and LookMLGenerator configuration

## Problem Statement

Add the CLI flags to enable and configure dynamic date selection for fact views.

## Implementation Details

- Add `--date-selector` flag to `__main__.py` Click command (enables feature)
- Add `--date-selector-mode` flag with choices `auto` (default) and `explicit`
- Add parameters to `LookMLGenerator.__init__()`:
  - `date_selector: bool = False`
  - `date_selector_mode: Literal["auto", "explicit"] = "auto"`
- Store configuration in generator instance for use during view generation
- Only applies to fact models (models specified via `--fact-models`)

## CLI Usage

```bash
# Enable with auto-detection (default mode)
dbt-to-lookml generate -i models/ -o build/ --fact-models rentals --date-selector

# Enable with explicit mode (only dims with meta.date_selector: true)
dbt-to-lookml generate -i models/ -o build/ --fact-models rentals \
  --date-selector --date-selector-mode explicit
```

## Files to Modify

- `src/dbt_to_lookml/__main__.py` - Add CLI flags
- `src/dbt_to_lookml/generators/lookml.py` - Add constructor parameters

## Testing

- Unit test: flags parsed correctly
- Unit test: generator stores configuration
- Unit test: mode defaults to "auto"
- Integration: flags flow through to generator

## Success Criteria

- [ ] Implementation complete
- [ ] Tests passing
- [ ] Documentation updated

## Links

- Epic: [DTL-046](./../epics/DTL-046.md)
- Strategy: [.tasks/strategies/DTL-047-strategy.md](./../strategies/DTL-047-strategy.md)
- Spec: [.tasks/specs/DTL-047-spec.md](./../specs/DTL-047-spec.md)

## History

### 2025-12-17 21:30 - Issue Created
Created from epic DTL-046
