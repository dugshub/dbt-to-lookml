---
id: DTL-033
title: "Add group_item_label support for cleaner timeframe labels"
type: feature
stack: backend
status: Ready
labels:
  - stack:backend
  - type:feature
  - priority:low
  - state:has-strategy
  - state:has-spec
created: 2025-11-19T08:00:00Z
updated: 2025-11-19T08:00:00Z
parent: DTL-029
---

# DTL-033: Add group_item_label support for cleaner timeframe labels

## Problem Statement

Add optional support for `group_item_label` to customize how individual timeframe fields appear within the grouped section (showing just "Date", "Month", etc. instead of "Rental Created Date", "Rental Created Month").

## Scope

- Add `use_group_item_label: bool` parameter to `LookMLGenerator`
- Add `--use-group-item-label` CLI flag
- Implement `group_item_label` generation in `_to_dimension_group_dict()`
- Use Liquid templating to extract timeframe name from field name
- Make this optional (disabled by default for backward compatibility)

## Implementation Details

Generator parameter:
```python
def __init__(
    self,
    # ... existing params ...
    use_group_item_label: bool = False,  # Opt-in feature
):
```

Liquid template for group_item_label:
```python
if use_group_item_label:
    # Extract timeframe name from generated field name
    # Field format: {dimension_group_name}_{timeframe}
    # We want to show just the timeframe with proper capitalization
    result["group_item_label"] = (
        "{% assign tf = _field._name | remove: '" + self.name + "_' | "
        "replace: '_', ' ' | capitalize %}{{ tf }}"
    )
```

## Testing

- Unit test: group_item_label generation when enabled
- Unit test: no group_item_label when disabled (default)
- Integration test: verify Liquid template correctness
- Golden test: verify generated LookML output

## Notes

This feature is optional and disabled by default to maintain backward compatibility. Users can enable it for cleaner field labels if desired.

## Links

- Epic: [DTL-029](./../epics/DTL-029.md)
- Strategy: [.tasks/strategies/DTL-033-strategy.md](./../strategies/DTL-033-strategy.md)
- Spec: [.tasks/specs/DTL-033-spec.md](./../specs/DTL-033-spec.md)

## History

### 2025-11-19 - Specification Created
Detailed implementation specification created at `.tasks/specs/DTL-033-spec.md`. Spec includes:
- Complete implementation details for all 6 phases (schema, core logic, generator, CLI, testing, validation)
- Exact code changes with line numbers and locations
- Comprehensive test suite specifications (unit, integration, golden, CLI tests)
- Edge case analysis and risk mitigation strategies
- Success criteria checklist and implementation sequence
- 14-hour effort breakdown across 2 days

Issue status updated to **Ready** with `state:has-spec` label. Ready for implementation.

### 2025-11-19 - Strategy Approved
Comprehensive implementation strategy created at `.tasks/strategies/DTL-033-strategy.md`. Strategy includes:
- Detailed technical approach using Liquid templating
- Multi-level configuration architecture (dimension metadata > generator > CLI > default)
- Comprehensive testing strategy (unit, integration, golden, CLI tests)
- 14-hour estimated effort (1.75 days)
- Clear implementation phases and edge case handling

### 2025-11-19 08:00 - Issue Created
Created from epic DTL-029
