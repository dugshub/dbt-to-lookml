---
id: DTL-012
title: "Update integration and golden tests"
type: feature
stack: backend
status: ready
labels:
  - stack:backend
  - type:feature
  - priority:medium
  - phase:testing
  - status:has-strategy
  - state:has-spec
created: 2025-11-12T20:00:00Z
updated: 2025-11-12T21:00:00Z
parent: DTL-007
---

# DTL-012: Update integration and golden tests

## Problem Statement

Update integration tests and golden files to reflect the new default behavior (`convert_tz: no`) in generated LookML dimension_groups:

**Tasks**:
1. Update golden files in `src/tests/golden/`:
   - Add `convert_tz: no` to all dimension_group blocks in expected_*.view.lkml files
   - Run golden test to regenerate expected output
2. Update integration tests if needed:
   - Ensure end-to-end tests still pass
   - Add integration test for convert_tz configuration flow
3. Run full test suite to ensure no regressions:
   - `make test-full` should pass
   - Coverage should remain at 95%+

**Files to modify**:
- `src/tests/golden/expected_searches.view.lkml`
- `src/tests/golden/expected_rental_orders.view.lkml`
- Any other golden files with dimension_groups
- `src/tests/integration/test_end_to_end.py` (if needed)

**Acceptance Criteria**:
- All golden tests pass with updated expected output
- Integration tests pass
- Full test suite passes (`make test-full`)
- Coverage at 95%+

## Success Criteria

- [ ] Implementation complete
- [ ] Tests passing
- [ ] Documentation updated

## Links

- Epic: [DTL-007](./../epics/DTL-007.md)
- Strategy: [.tasks/strategies/DTL-012-strategy.md](./../strategies/DTL-012-strategy.md)
- Spec: [.tasks/specs/DTL-012-spec.md](./../specs/DTL-012-spec.md)

## History

### 2025-11-12 20:00 - Issue Created
Created from epic DTL-007
