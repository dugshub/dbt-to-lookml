---
id: DTL-021
title: "Integration, testing, and documentation"
type: chore
status: ready
labels:
  - stack:backend
  - type:chore
  - priority:high
  - tdd
  - state:spec-ready
created: 2025-11-12T20:50:00Z
updated: 2025-11-17T00:00:00Z
parent: DTL-014
---

# DTL-021: Integration, testing, and documentation

## Problem Statement

Complete integration of wizard system with existing CLI, add comprehensive tests, and update documentation.

**Tasks**
- Write CLI tests for wizard command flows
- Add unit tests for detection module
- Create integration tests: prompt wizard, TUI wizard, preview
- Mock user input in tests using questionary/click testing utilities
- Update README.md with wizard usage examples
- Add wizard section to CLAUDE.md with technical details
- Ensure 95%+ branch coverage for all wizard code
- Add CI test job specifically for wizard features

**Acceptance Criteria**
- All wizard features have unit tests
- Integration tests cover full wizard flows
- Tests mock user input and validate command generation
- README includes "Interactive Wizard" section with examples
- CLAUDE.md documents wizard architecture and testing approach
- Coverage report shows 95%+ for wizard modules
- CI pipeline passes with all wizard tests

**Test Coverage Requirements**
- wizard/detection.py: Test all detection scenarios
- wizard/generate_wizard.py: Test prompt sequences, validation, command building
- wizard/tui.py: Test form submission, navigation (may need Textual testing utilities)
- Error handling: Test invalid inputs, missing files, permission errors

**Documentation Updates**
- README: Add "Interactive Wizard" section after "Usage" section
- Show examples: basic wizard, TUI mode, preview-only mode
- CLAUDE.md: Document wizard architecture, module structure, testing strategy

## Success Criteria

- [ ] All wizard features have unit tests
- [ ] Integration tests cover full wizard flows
- [ ] Tests mock user input correctly
- [ ] README includes wizard section
- [ ] CLAUDE.md documents wizard architecture
- [ ] Coverage report shows 95%+ for wizard modules
- [ ] CI pipeline passes
- [ ] All tests passing

## Links

- Epic: [DTL-014](./../epics/DTL-014.md)
- Strategy: [.tasks/strategies/DTL-021-strategy.md](./../strategies/DTL-021-strategy.md)
- Spec: [.tasks/specs/DTL-021-spec.md](./../specs/DTL-021-spec.md)

## History

### 2025-11-17 00:00 - Spec Generated
Generated comprehensive implementation spec with:
- Complete test file structure (test_wizard_detection.py, test_wizard_generate.py, test_wizard_integration.py)
- Specific test cases with mocking patterns (12+ wizard tests, 7+ detection tests, 8+ integration tests)
- Questionary and Click mocking strategies documented with code examples
- README.md wizard section outline with usage examples
- CLAUDE.md wizard architecture documentation outline with testing patterns
- CI pipeline integration (new wizard-tests job with coverage reporting)
- Coverage requirements and verification commands (95%+ target)
- Implementation checklist with 8 phases over 10 days

Status updated: refinement â†’ ready
Label added: state:spec-ready

### 2025-11-12 20:50 - Issue Created
Created from epic DTL-014
