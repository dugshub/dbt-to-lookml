---
id: DTL-051
title: "Generate dynamic calendar dimension_group"
type: feature
status: refinement
labels:
  - stack:backend
  - type:feature
  - layer:features
created: 2025-12-17T21:30:00Z
updated: 2025-12-17T21:30:00Z
parent: DTL-046
---

# DTL-051: Generate dynamic calendar dimension_group

## Problem Statement

Generate the LookML `dimension_group` that uses the calendar_date parameter.

## Implementation Details

- Add `_generate_calendar_dimension_group()` method
- Generate dimension_group dict with:
  - `name: "calendar"`
  - `type: "time"`
  - `timeframes: [date, week, month, quarter, year]`
  - `sql: "${TABLE}.{% parameter calendar_date %}::timestamp"`
  - `label: "Calendar"`
  - `convert_tz: "no"` (timestamps already in desired timezone)
- Insert dimension_group after date selector parameter

## SQL Generation

The SQL uses Liquid templating to reference the parameter:
```sql
${TABLE}.{% parameter calendar_date %}::timestamp
```
This allows the selected date column to be used dynamically.

## Timeframes

Use standard timeframes: date, week, month, quarter, year
(No hour/time granularity to keep calendar analysis clean)

## Success Criteria

- [ ] Implementation complete
- [ ] Tests passing
- [ ] Documentation updated

## Links

- Epic: [DTL-046](./../epics/DTL-046.md)
- Strategy: [.tasks/strategies/DTL-051-strategy.md](./../strategies/DTL-051-strategy.md)
- Spec: [.tasks/specs/DTL-051-spec.md](./../specs/DTL-051-spec.md)

## History

### 2025-12-17 21:30 - Issue Created
Created from epic DTL-046
