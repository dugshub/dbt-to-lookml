---
id: DTL-031
title: "Add time_dimension_group_label configuration to schemas and CLI"
type: feature
stack: backend
status: Ready
labels:
  - stack:backend
  - type:feature
  - priority:high
  - state:has-spec
created: 2025-11-19T08:00:00Z
updated: 2025-11-19T10:30:00Z
parent: DTL-029
---

# DTL-031: Add time_dimension_group_label configuration to schemas and CLI

## Problem Statement

Add support for configuring the top-level group_label for time dimension_groups through metadata, generator parameters, and CLI flags.

## Scope

- Add `time_dimension_group_label: str | None` field to `ConfigMeta` schema (schemas/config.py)
- Add `time_dimension_group_label: str | None` parameter to `LookMLGenerator.__init__()` (generators/lookml.py)
- Add `--time-dimension-group-label TEXT` CLI flag to generate command (__main__.py)
- Add `--no-time-dimension-group-label` CLI flag to explicitly disable grouping
- Set default value to "Time Dimensions" for better out-of-box organization
- Update generator initialization to pass parameter through to dimension generation

## Implementation Details

Schema update (schemas/config.py):
```python
class ConfigMeta(BaseModel):
    # ... existing fields ...
    time_dimension_group_label: str | None = None
```

Generator parameter (generators/lookml.py):
```python
def __init__(
    self,
    # ... existing params ...
    time_dimension_group_label: str | None = None,  # Default "Time Dimensions"
):
```

CLI flags (__main__.py):
```python
@click.option(
    "--time-dimension-group-label",
    type=str,
    default=None,
    help="Group label for time dimension_groups (default: 'Time Dimensions')",
)
@click.option(
    "--no-time-dimension-group-label",
    is_flag=True,
    help="Disable time dimension group labeling",
)
```

## Testing

- Unit tests for ConfigMeta schema validation
- Unit tests for LookMLGenerator parameter handling
- CLI tests for flag parsing
- Integration test showing parameter flow from CLI → Generator → Schema

## Links

- Epic: [DTL-029](./../epics/DTL-029.md)
- Strategy: [.tasks/strategies/DTL-031-strategy.md](./../strategies/DTL-031-strategy.md)
- Spec: [.tasks/specs/DTL-031-spec.md](./../specs/DTL-031-spec.md)

## History

### 2025-11-19 10:30 - Implementation Spec Complete
Detailed implementation spec generated at `.tasks/specs/DTL-031-spec.md`. Spec includes:
- **Phase-by-phase implementation plan** with exact file locations and line numbers
- **Detailed task breakdown** with code snippets and patterns to follow
- **Complete testing strategy** with 13 test methods across unit/integration/CLI tests
- **File-level implementation guidance** with references to existing patterns
- **Validation commands** for development workflow
- **Documentation updates** ready to add to CLAUDE.md

**Key Implementation Details**:
- 4 files to modify: `config.py`, `lookml.py`, `semantic_layer.py`, `__main__.py`
- ~145 lines of production code
- ~360 lines of test code
- Follows exact pattern from `convert_tz` feature
- 100% backward compatible with sensible default ("Time Dimensions")

Status updated to Ready with state:has-spec label.

### 2025-11-19 - Strategy Complete
Comprehensive implementation strategy created at `.tasks/strategies/DTL-031-strategy.md`. Strategy includes:
- Complete architecture analysis of current schema, generator, and CLI patterns
- Five-phase implementation plan with detailed code changes
- Multi-level configuration precedence (metadata → generator → CLI → default)
- Comprehensive testing strategy with 95%+ coverage target
- Full backward compatibility analysis
- Documentation updates for CLAUDE.md
- Estimated effort: ~8 hours

Status updated to Ready with state:has-strategy label.

### 2025-11-19 08:00 - Issue Created
Created from epic DTL-029
