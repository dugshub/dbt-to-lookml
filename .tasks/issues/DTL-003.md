---
id: DTL-003
title: Generate dimension-only field sets in views
type: feature
stack: backend
status: ready
labels:
- stack:backend
- type:feature
- priority:high
- state:has-spec
created: 2025-11-12 17:15:00+00:00
updated: '2025-11-12T22:58:00.000000Z'
parent: DTL-001
---



# DTL-003: Generate dimension-only field sets in views

## Problem Statement

Implement automatic generation of `set: dimensions_only` in all view files, containing references to all dimension fields (including hidden entities).

## What needs to be built

- Add `_generate_dimension_set()` method to `LookMLGenerator` class
- Collect all dimension names from a `SemanticModel` (entities + dimensions)
- Create `LookMLSet(name="dimensions_only", fields=[...])` with all dimension names
- Update `_generate_view_lookml()` to include the generated set in view output
- Include hidden entity dimensions in the set (needed for join keys)

## Why it's needed (connection to epic)

This implements the core mechanism for constraining field exposure. The dimension-only set will be referenced in explore joins to prevent measures from dimensional views appearing in fact explores.

## Technical scope from labels

Backend work in `src/dbt_to_lookml/generators/lookml.py`:
- Add set generation logic to LookMLGenerator
- Integrate with existing view generation pipeline
- Maintain existing view structure (entities → dimensions → measures)
- Ensure sets are positioned correctly in LookML output

## Testing requirements

- Unit tests for _generate_dimension_set() method
- Verify all dimensions (including hidden) are included
- Test set appears in correct position in generated LookML
- Ensure empty sets are handled gracefully (views with no dimensions)

## Success Criteria

- [ ] Implementation complete
- [ ] Tests passing
- [ ] Documentation updated

## Links
- Epic: [DTL-001](./../epics/DTL-001.md)
- Strategy: [.tasks/strategies/DTL-003-strategy.md](./../strategies/DTL-003-strategy.md)
- Spec: [.tasks/specs/DTL-003-spec.md](./../specs/DTL-003-spec.md)

## History

### 2025-11-12 22:58 - Implementation Spec Generated
Detailed implementation spec created at .tasks/specs/DTL-003-spec.md
- Added LookMLSet schema design
- Defined _generate_dimension_set() method signature
- Specified integration with SemanticModel.to_lookml_dict()
- Created comprehensive test plan (7 unit tests + 1 integration test)
- Documented edge case handling (empty views, dimension_groups, hidden entities)
- Issue status updated to "ready" with state:has-spec label

### 2025-11-12 22:54 - Strategy Generated
Strategy posted to .tasks/strategies/DTL-003-strategy.md

### 2025-11-12 17:15 - Issue Created
Created from epic DTL-001
