---
id: DTL-002
title: Add LookML set support to schemas
type: feature
stack: backend
status: awaiting-strategy-review
labels:
- stack:backend
- type:feature
- priority:high
created: 2025-11-12 17:15:00+00:00
updated: '2025-11-12T22:54:20.250351Z'
parent: DTL-001
---



# DTL-002: Add LookML set support to schemas

## Problem Statement

Extend the Pydantic schema models to support LookML field sets, which are used to group fields for reuse in explores and joins.

## What needs to be built

- Add `LookMLSet` Pydantic model to `schemas.py` representing a LookML `set:` block
- Add optional `sets: List[LookMLSet]` field to `LookMLView` model
- Update `LookMLView.to_lookml_dict()` to include sets in output dictionary
- Ensure sets appear after sql_table_name but before dimensions in generated LookML

## Why it's needed (connection to epic)

Sets are the foundation for field exposure control in explores. This schema support enables the generator to create and reference dimension-only sets in join definitions.

## Technical scope from labels

Backend work in `src/dbt_to_lookml/schemas.py`:
- Add new Pydantic models with full type hints (mypy --strict compliance)
- Maintain backward compatibility (sets are optional)
- Follow existing schema patterns (BaseModel, Optional fields, to_lookml_dict methods)

## Testing requirements

- Unit tests for LookMLSet model validation
- Unit tests for LookMLView.to_lookml_dict() with sets
- Verify sets serialize correctly to LookML format

## Success Criteria

- [ ] Implementation complete
- [ ] Tests passing
- [ ] Documentation updated

## Links
- Epic: [DTL-001](./../epics/DTL-001.md)
- Strategy: [.tasks/strategies/DTL-002-strategy.md](./../strategies/DTL-002-strategy.md)
- Spec: [.tasks/specs/DTL-002-spec.md](./../specs/DTL-002-spec.md)

## History

### 2025-11-12 22:54 - Strategy Generated
Strategy posted to .tasks/strategies/DTL-002-strategy.md
### 2025-11-12 17:15 - Issue Created
Created from epic DTL-001
