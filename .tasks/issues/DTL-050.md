---
id: DTL-050
title: "Generate calendar_date parameter in LookML"
type: feature
status: refinement
labels:
  - stack:backend
  - type:feature
  - layer:features
created: 2025-12-17T21:30:00Z
updated: 2025-12-17T21:30:00Z
parent: DTL-046
---

# DTL-050: Generate calendar_date parameter in LookML

## Problem Statement

Generate the LookML `parameter` block for date selection.

## Implementation Details

- Add `_generate_date_selector_parameter(time_dims: list[TimeDimensionInfo])` method
- Generate `parameter` dict with:
  - `name: "calendar_date"`
  - `type: "unquoted"`
  - `label: "Calendar Date"`
  - `description: "Select which date field to use for calendar analysis"`
  - `allowed_value` entries for each time dimension
  - `default_value` from the default time dimension
- Insert parameter into view dict when date_selector is enabled

## LookML Structure

```python
{
    "name": "calendar_date",
    "type": "unquoted",
    "label": "Calendar Date",
    "allowed_values": [
        {"label": "Created", "value": "rental_created_at_utc"},
        {"label": "Starts", "value": "rental_starts_at_utc"},
    ],
    "default_value": "rental_created_at_utc"
}
```

## lkml Library Compatibility

- Verify lkml can serialize `parameter` blocks correctly
- Test with multiple allowed_values

## Success Criteria

- [ ] Implementation complete
- [ ] Tests passing
- [ ] Documentation updated

## Links

- Epic: [DTL-046](./../epics/DTL-046.md)
- Strategy: [.tasks/strategies/DTL-050-strategy.md](./../strategies/DTL-050-strategy.md)
- Spec: [.tasks/specs/DTL-050-spec.md](./../specs/DTL-050-spec.md)

## History

### 2025-12-17 21:30 - Issue Created
Created from epic DTL-046
