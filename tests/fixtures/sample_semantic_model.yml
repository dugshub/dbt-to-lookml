semantic_models:
  - name: users
    model: dim_users
    description: User dimension table with core user attributes
    
    entities:
      - name: user_id
        type: primary
        description: Unique user identifier
    
    dimensions:
      - name: status
        type: categorical
        description: User account status
      
      - name: created_at
        type: time
        type_params:
          time_granularity: day
        description: Date when user account was created
      
      - name: email_domain
        type: categorical
        expr: "SPLIT_PART(email, '@', 2)"
        description: Domain portion of user email address
    
    measures:
      - name: user_count
        agg: count
        description: Total number of users
      
      - name: active_user_count
        agg: count
        expr: "CASE WHEN status = 'active' THEN user_id END"
        description: Number of active users